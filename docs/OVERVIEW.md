# 英険1級 要約シュミレーター

## コンセプト
2024〜2025年に話題になった「英検1級 要約問題 0点騒動」を風刺するジョークWebアプリ。
英検の試験形式・デザインを忠実に再現しつつ、採点ロジックは不条理。

## URL
- **本番**: https://eiken-summary-sim.vercel.app
- **ローカル**: http://localhost:3000

## ページ構成

### 試験ページ (`/`)
- 英検1級の試験用紙を正確に再現（Grade 1, セクション4, English Summary）
- 赤い注意書きバー、黒丸ブレットの指示文（セリフ体）
- 本文（3問からランダム出題）+ 解答テキストエリア + 語数カウンター
- xl幅では左に問題文、右に解答欄の2カラムレイアウト
- 設定ギア + 採点ボタン横のトグルスイッチで真面目/ジョークモード切替
- ジョークモード時「※ AIは真面目に採点しません。」表示

### 結果ページ (`/result`)
- 「結果を見る」演出ボタン（合格: ファンファーレ+紙吹雪、不合格: 不穏な音+赤フラッシュ）
- 合否バッジ（24点以上で合格）
- 4観点スコアテーブル（英検公式の成績表を再現、ジョークモードは実際の採点基準を薄く併記）
- 自分の解答の表示
- AIフィードバック
- 合格時: 名前入力欄 + 合格証明書（DL可能）
- Xシェアボタン（OG画像付きリンクプレビュー、#英険要約シュミレーター #英検）
- ジョーク免責事項

## 採点の仕組み（ジョークモード）

### なぜ0点になるのか
語数ゲートが理不尽に厳しい。90〜110語の範囲内であっても確率的に0点になる。
突破率は5次関数: `min((w-90)^5/1000, (110-w)^5/1000) %`。
100語ぴったりだけが安全（突破率100%）。99語で59%、95語で3%、90語/110語で確定0点。
範囲内で0点の場合は「語数は規定範囲内ですが、総合的な判定により語数規定違反と判定されました」と表示。
突破した場合は「おめでとうございます！あなたは語数フィルターを運良く突破しました！」と表示。

### 4観点の真実
| 観点 | 表向き | 実際 |
|------|--------|------|
| 内容 | 課題に合っているか | `8 - |語数 - 100|`（語数の近さ） |
| 構成 | 論理的な流れか | = 文法スコアのコピー |
| 語い | 適切な語彙か | AIが高級語彙を識別→コードで個数カウント |
| 文法 | 正しい文法か | Gemini AIが文法のみ評価（唯一まともな項目） |

### 語彙スコアリング
Gemini AIが英検準1級〜1級レベルの高級語彙を解答から識別し、リストとして返却。
コード側でその個数をカウントしてスコアに変換（1-2個→2点、3-5個→4点、6-9個→6点、10+個→8点）。

## 真面目モード
採点ボタン横のトグルスイッチまたは設定ギアから切替可能。
Gemini AIが4項目すべてを正当に評価する。語数ゲートは無効化される。
フィードバックは日本語で返却。
